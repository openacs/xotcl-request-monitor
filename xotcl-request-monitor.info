<?xml version="1.0"?>
<!-- Generated by the OpenACS Package Manager -->

<package key="xotcl-request-monitor" url="http://openacs.org/repository/apm/packages/xotcl-request-monitor" type="apm_application">
    <package-name>XOTcl Request Monitor</package-name>
    <pretty-plural>XOTcl Request Monitor</pretty-plural>
    <initial-install-p>f</initial-install-p>
    <singleton-p>t</singleton-p>
    <auto-mount>request-monitor</auto-mount>

    <version name="0.66" url="http://media.wu-wien.ac.at/download/xotcl-request-monitor-0.66.apm">
        <owner url="mailto:neumann@wu-wien.ac.at">Gustaf Neumann</owner>
        <vendor url="http://wu.ac.at">WU Vienna</vendor>
        <summary>Request Monitor with user tracking functionality</summary>
        <release-date>2024-09-02</release-date>
        <description format="text/html">&lt;pre&gt;
This package provides a Request Monitor for OpenACS applications. It computes performance 
summary information such as requests/views per second, average response time, number
 of users connected, lists currently active threads, etc. Furthermore, it can block 
overactive users (e.g. automated web-bots mirroring the site, users repeating running 
queries, etc.). It provides as well some user tracking (such as whos-online) with 
activity measures, it blocks repeated requests (impatient reloads), tracks switching 
of IP addresses from users, and provides request tracking per user for the monitored 
time window. It contains as well overall URL statistics with performance measures.
Updated for circumventing handler calls OpenACS 5.2 for /resources/*. 
0.28 provides calls for listing active communities and users active in these communities. 
0.30 provides nice graphical charts (many thanks to Nima) and a new interface to the 
     background thread. In addition,  ns_returnfile_background is included; 
0.38 using context form xotcl-core
0.39 brings parameterized counter values
0.39 brings optional activity tracking
&lt;/pre&gt;
</description>
        <license>BSD-Style</license>
        <maturity>2</maturity>
        <provides url="xotcl-request-monitor" version="0.66"/>
	<requires url="acs-kernel" version="5.10.1"/>
	<requires url="acs-tcl" version="5.10.1"/>
        <requires url="xotcl-core" version="5.10.1"/>
	<requires url="acs-templating" version="5.10.1"/>

        <callbacks>
          <callback type="after-upgrade" proc="::request_monitor::upgrade_callback"/>
          <callback type="after-mount"   proc="::request_monitor::after_mount"/>
        </callbacks>
        <parameters>
            <parameter datatype="string"  min_n_values="1"
                       max_n_values="1"  name="do_throttle"
                       default="on"
                       description="Turn request throttling on or off (default on).
                                    If this parameter is turned off, no user-counts
                                    etc are provided."/>
            <parameter datatype="string"  min_n_values="1"
		       max_n_values="1"  name="do_track_activity"
		       default="off" description="Turn activity monitoring on or off (default off)"/>
            <parameter datatype="string"  min_n_values="0"
		       max_n_values="1"  name="do_slowdown_overactive"
		       default="off" description="Slowdown overactive users (default off)"/>
            <parameter datatype="string"  min_n_values="1"  max_n_values="1"  name="hide-requests"  default="*.css *.ico" description="List of glob patterns to be used for hiding entries from request lists. Only requests that do not match any of these patterns are displayed unless all requests are forced. Affected pages:   - stat-details (list of all recorded URLs with timings) - last-requests (tracking activity of a user)
"/>
            <parameter datatype="number"  min_n_values="1"  max_n_values="1"  name="max-stats-elements"  default="5" description="Number of highest data points in the reporting period. The default of 5 will e.g. show you the top 5 times of requests per minute, hour aso."/>
            <parameter datatype="number"  min_n_values="1"  max_n_values="1"  name="max-url-stats"  default="100" description="Number of URL entries to be kept in the detailed view of the request statistics"/>
            <parameter datatype="string"  min_n_values="1"  max_n_values="1"  name="peer-groups"  default="*wlan* *dsl* *.com *.net *.org" description="List of glob patterns for the summary of sites when an admin uses .../whos-online/. These patterns are matched against the domain names of the peer addresses."/>
            <parameter datatype="string"  min_n_values="1"
                       max_n_values="1"
                       name="do_double_click_prevention" default="on"
                       description="Switch double-click-prevention on/off"/>
            <parameter datatype="string"  min_n_values="1"
                       max_n_values="1" name="monitor_urls" default="/ /register/ /dotlrn/"
                       description="Monitor performance of the provided URLs (in munin responsetime)"/>
            <parameter datatype="number"  min_n_values="1"  max_n_values="1"  name="time-window"  default="10" description="Defines the time window in minutes which is used for detailed monitoring (e.g. calculate the number of active uses and the history of the requests of these users, the number of ip switches, etc.)"/>
            <parameter datatype="number"  min_n_values="1"  max_n_values="1"  name="trend-elements"  default="48" description="Number of data points used for displaying the trend graphs. The default will show the trend for the last 48 seconds,minutes,hours. It is also the maximum reporting period possible"/>
        </parameters>

    </version>
</package>
